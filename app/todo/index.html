<div class="container todo-layout">
	<div ng-show="projects[0]">
		<div ng-repeat="project in projects">
			<div class="project-title">{{project.title}}</div>
			<i class="fa fa-plus" data-toggle="modal" data-target="#addTask" ng-click="todoCtrl.currentProjectId = project._id"></i>
			<i class="fa fa-times" ng-click="removeProject(project._id)"></i>
			<div ng-show="project.tasks[0]">
				<div ng-repeat="task in project.tasks">
					<div class="task-title">{{task.title}}</div>
					<i class="fa fa-times" ng-click="removeTask(task._id)"></i>
				</div>
			</div>
			<div ng-show="!project.tasks[0]">
				Have no tasks yet
			</div>
		</div>
	</div>
	<div ng-show="!projects[0]">
		Project list is empty
	</div>
	<div class="btn btn-primary" data-toggle="modal" data-target="#addProject">Add project</div>

	<div id="addProject" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Add Project</h4>
				</div>
				<div class="modal-body">
					<form name="addProjectForm" novalidate>
					    <div ng-if="error" class="alert alert-danger">{{error}}</div>
					    <div class="form-group" ng-class="{ 'has-error': addProjectForm.title.$invalid && !addProjectForm.title.$pristine }">
					        <label for="title">Project Title</label>
					        <input type="text" name="title" class="form-control" ng-model="title" required />
					        <p ng-show="addProjectForm.title.$invalid && !addProjectForm.title.$pristine" class="help-block">Title is required.</p>
					    </div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default pull-left" data-dismiss="modal">Cancel</button>
			        <button ng-click="addProject(addProjectForm)" ng-disabled="addProjectForm.$invalid" class="btn btn-primary pull-right">Create</button>
				</div>
			</div>
		</div>
	</div>
	<div id="addTask" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Add Task</h4>
				</div>
				<div class="modal-body">
					<form name="addTaskForm" novalidate>
					    <div ng-if="error" class="alert alert-danger">{{error}}</div>
					    <div class="form-group" ng-class="{ 'has-error': addTaskForm.title.$invalid && !addTaskForm.title.$pristine }">
					        <label for="title">Task Title</label>
					        <input type="text" name="title" class="form-control" ng-model="title" required />
					        <p ng-show="addTaskForm.title.$invalid && !addTaskForm.title.$pristine" class="help-block">Title is required.</p>
					    </div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default pull-left" data-dismiss="modal">Cancel</button>
			        <button ng-click="addTask(addTaskForm)" ng-disabled="addTaskForm.$invalid" class="btn btn-primary pull-right">Create</button>
				</div>
			</div>
		</div>
	</div>
</div>
